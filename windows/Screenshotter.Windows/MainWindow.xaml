<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="Screenshotter.Windows.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Screenshotter">

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
            Padding="24">
        <StackPanel
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Spacing="16"
            MaxWidth="320">

            <!-- Title -->
            <TextBlock
                Text="ðŸ“· Screenshotter"
                FontSize="24"
                FontWeight="SemiBold"
                HorizontalAlignment="Center"/>

            <TextBlock
                Text="Scan this QR code with your iPhone to pair"
                TextWrapping="Wrap"
                TextAlignment="Center"
                Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"
                HorizontalAlignment="Center"/>

            <!-- QR Code Image -->
            <Border
                Background="White"
                CornerRadius="8"
                Padding="12"
                HorizontalAlignment="Center">
                <Image
                    x:Name="QrCodeImage"
                    Width="200"
                    Height="200"
                    Stretch="Uniform"/>
            </Border>

            <!-- IP Address -->
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Spacing="8">
                <TextBlock Text="IP Address:"
                           FontWeight="SemiBold"
                           VerticalAlignment="Center"/>
                <TextBlock x:Name="IpAddressText"
                           Text="Loading..."
                           VerticalAlignment="Center"
                           IsTextSelectionEnabled="True"/>
            </StackPanel>

            <!-- Port -->
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Spacing="8">
                <TextBlock Text="Port:"
                           FontWeight="SemiBold"
                           VerticalAlignment="Center"/>
                <TextBlock Text="5000"
                           VerticalAlignment="Center"/>
            </StackPanel>

            <!-- Status -->
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Spacing="8">
                <TextBlock Text="Server Status:"
                           FontWeight="SemiBold"
                           VerticalAlignment="Center"/>
                <TextBlock x:Name="StatusText"
                           Text="Starting..."
                           Foreground="Orange"
                           VerticalAlignment="Center"/>
            </StackPanel>

            <MenuFlyoutSeparator Margin="0,8"/>

            <!-- Refresh Button -->
            <Button
                x:Name="RefreshButton"
                Content="ðŸ”„ Refresh IP"
                HorizontalAlignment="Stretch"
                Click="RefreshButton_Click"/>

            <!-- Hide to Tray Button -->
            <Button
                x:Name="HideButton"
                Content="ðŸ“¥ Hide to Tray"
                HorizontalAlignment="Stretch"
                Click="HideButton_Click"/>

            <!-- Start with Windows Toggle -->
            <ToggleSwitch
                x:Name="StartupToggle"
                Header="Start with Windows"
                Toggled="StartupToggle_Toggled"
                HorizontalAlignment="Center"/>

            <TextBlock
                Text="Close window to hide to system tray"
                FontSize="11"
                Foreground="{ThemeResource SystemControlForegroundBaseMediumLowBrush}"
                HorizontalAlignment="Center"
                TextAlignment="Center"/>
        </StackPanel>
    </Grid>
</Window>
